<div class="container">
  <!-- Add Task Form -->
  <div>
    <h3>Add New Task</h3>
    <form (ngSubmit)="addTask()">
      <input [(ngModel)]="newTask.title" name="title" placeholder="Title" required>
      <textarea [(ngModel)]="newTask.description" name="description" placeholder="Description"></textarea>
      <label>
        <input type="checkbox" [(ngModel)]="newTask.completed" name="completed"> Completed
      </label>
      <button type="submit">Add Task</button>
    </form>
  </div>

  <!-- Task List -->
  <h2>Task List</h2>
  <ul class="task-list">
    <li *ngFor="let task of tasks$ | async" class="task-item">
      <div class="task-info">
        <div class="task-title">{{ task.title }}</div>
        <div class="task-description">{{ task.description }}</div>
        <div class="task-status">{{ task.completed ? 'Completed' : 'Pending' }}</div>
      </div>
      <div class="task-actions">
        <button class="btn btn-edit" (click)="editTask(task)">Edit</button>
        <button class="btn btn-delete" (click)="deleteTask(task.id)">Delete</button>
      </div>
    </li>
  </ul>

  <!-- Edit Task Form -->
  <div *ngIf="editingTask">
    <h3>Edit Task</h3>
    <form (ngSubmit)="updateTask()">
      <input [(ngModel)]="editingTask.title" name="title" placeholder="Title" required>
      <textarea [(ngModel)]="editingTask.description" name="description" placeholder="Description"></textarea>
      <label>
        <input type="checkbox" [(ngModel)]="editingTask.completed" name="completed"> Completed
      </label>
      <button type="submit">Update Task</button>
      <button type="button" (click)="editingTask = null">Cancel</button>
    </form>
  </div>
</div>